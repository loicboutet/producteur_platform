<% content_for :title, "Configuration - Admin Silloun" %>

<div class="space-y-6">
  <!-- Header -->
  <div class="flex flex-col md:flex-row md:items-center md:justify-between">
    <div>
      <h1 class="font-piepie text-3xl text-gray-900">CONFIGURATION</h1>
      <p class="text-gray-600 mt-1">Paramètres généraux de la plateforme</p>
    </div>
    <%= link_to edit_mockups_admin_settings_path, class: "mt-4 md:mt-0 inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-medium" do %>
      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
      </svg>
      Modifier
    <% end %>
  </div>

  <div class="grid lg:grid-cols-2 gap-6">
    <!-- Commission Settings -->
    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
      <div class="p-6 border-b border-gray-100">
        <h2 class="font-semibold text-gray-900 flex items-center">
          <svg class="w-5 h-5 mr-2 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          Commission & Paiements
        </h2>
      </div>
      <div class="p-6 space-y-4">
        <div class="flex items-center justify-between py-3 border-b border-gray-100">
          <div>
            <p class="font-medium text-gray-900">Taux de commission</p>
            <p class="text-sm text-gray-500">Pourcentage prélevé sur chaque vente</p>
          </div>
          <span class="text-2xl font-bold text-purple-600"><%= @settings[:commission_rate] %>%</span>
        </div>
        <div class="flex items-center justify-between py-3 border-b border-gray-100">
          <div>
            <p class="font-medium text-gray-900">Montant minimum de commande</p>
            <p class="text-sm text-gray-500">Panier minimum pour commander</p>
          </div>
          <span class="font-bold text-gray-900"><%= number_to_currency(@settings[:min_order_amount], unit: "€", format: "%n %u") %></span>
        </div>
        <div class="flex items-center justify-between py-3">
          <div>
            <p class="font-medium text-gray-900">Mode Stripe</p>
            <p class="text-sm text-gray-500">Environnement de paiement actif</p>
          </div>
          <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium <%= @settings[:stripe_mode] == 'test' ? 'bg-orange-100 text-orange-700' : 'bg-green-100 text-green-700' %>">
            <%= @settings[:stripe_mode] == 'test' ? 'Test' : 'Production' %>
          </span>
        </div>
      </div>
    </div>

    <!-- Geographic Settings -->
    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
      <div class="p-6 border-b border-gray-100">
        <h2 class="font-semibold text-gray-900 flex items-center">
          <svg class="w-5 h-5 mr-2 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
          </svg>
          Paramètres géographiques
        </h2>
      </div>
      <div class="p-6 space-y-4">
        <div class="flex items-center justify-between py-3">
          <div>
            <p class="font-medium text-gray-900">Rayon maximum de recherche</p>
            <p class="text-sm text-gray-500">Distance max pour afficher les producteurs</p>
          </div>
          <span class="font-bold text-gray-900"><%= @settings[:max_pickup_radius] %> km</span>
        </div>
      </div>
    </div>

    <!-- Contact Settings -->
    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
      <div class="p-6 border-b border-gray-100">
        <h2 class="font-semibold text-gray-900 flex items-center">
          <svg class="w-5 h-5 mr-2 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
          </svg>
          Contact & Support
        </h2>
      </div>
      <div class="p-6 space-y-4">
        <div class="flex items-center justify-between py-3 border-b border-gray-100">
          <div>
            <p class="font-medium text-gray-900">Email de contact</p>
            <p class="text-sm text-gray-500">Adresse email principale</p>
          </div>
          <span class="text-gray-900"><%= @settings[:contact_email] %></span>
        </div>
        <div class="flex items-center justify-between py-3">
          <div>
            <p class="font-medium text-gray-900">Téléphone support</p>
            <p class="text-sm text-gray-500">Numéro de téléphone</p>
          </div>
          <span class="text-gray-900"><%= @settings[:support_phone] %></span>
        </div>
      </div>
    </div>

    <!-- Email Notifications Settings -->
    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
      <div class="p-6 border-b border-gray-100">
        <h2 class="font-semibold text-gray-900 flex items-center">
          <svg class="w-5 h-5 mr-2 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
          </svg>
          Emails transactionnels
        </h2>
      </div>
      <div class="p-6 space-y-4">
        <div class="flex items-center justify-between py-3">
          <div>
            <p class="font-medium text-gray-900">Notifications email</p>
            <p class="text-sm text-gray-500">Envoyer des emails de confirmation et suivi</p>
          </div>
          <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium <%= @settings[:email_notifications] ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-700' %>">
            <%= @settings[:email_notifications] ? 'Activé' : 'Désactivé' %>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
